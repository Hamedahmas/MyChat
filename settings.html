<!DOCTYPE html>
<html lang="fa">
<head>
  <meta charset="UTF-8" />
  <title>ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨ | MyChat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="styles.css" />
  <style>
    body {
      max-width: 500px;
      margin: 0 auto;
      padding: 2rem;
      font-size: 1rem;
    }

    h1 {
      text-align: center;
      margin-bottom: 2rem;
    }

    .section {
      margin-bottom: 2rem;
    }

    label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }

    input[type="password"] {
      width: 100%;
      padding: 0.5rem;
      margin-bottom: 1rem;
    }

    select, button {
      padding: 0.5rem;
      font-size: 1rem;
    }

    .danger {
      color: red;
    }
  </style>
</head>
<body>
  <h1 id="title">ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨</h1>

  <div class="section">
    <label id="themeLabel">ØªÙ… Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ</label>
    <select id="themeSelect" onchange="setTheme(this.value)">
      <option value="light">ğŸŒ Ø±ÙˆØ´Ù†</option>
      <option value="dark">ğŸŒ™ ØªØ§Ø±ÛŒÚ©</option>
    </select>
  </div>

  <div class="section">
    <label id="langLabel">Ø²Ø¨Ø§Ù†</label>
    <select id="langSelect" onchange="setLanguage(this.value)">
      <option value="fa">ğŸ‡®ğŸ‡· ÙØ§Ø±Ø³ÛŒ</option>
      <option value="en">ğŸ‡¬ğŸ‡§ English</option>
      <option value="ar">ğŸ‡¸ğŸ‡¦ Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©</option>
      <option value="ja">ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª</option>
    </select>
  </div>

  <div class="section">
    <label id="changePassLabel">ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±</label>
    <input type="password" id="oldPass" placeholder="Ø±Ù…Ø² ÙØ¹Ù„ÛŒ">
    <input type="password" id="newPass" placeholder="Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯">
    <input type="password" id="confirmPass" placeholder="ØªØ£ÛŒÛŒØ¯ Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯">
    <button onclick="changePassword()" id="changeBtn">ØªØºÛŒÛŒØ± Ø±Ù…Ø²</button>
  </div>

  <div class="section">
    <button onclick="deleteAccount()" class="danger" id="deleteBtn">âŒ Ø­Ø°Ù Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ</button>
  </div>

  <p style="text-align:center;"><a href="index.html" id="backLink">Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡</a></p>

  <script>
    const lang = localStorage.getItem('mychat_language') || 'fa';
    const theme = localStorage.getItem('mychat_theme') || 'light';
    document.documentElement.lang = lang;
    document.documentElement.dir = (lang === 'fa' || lang === 'ar') ? 'rtl' : 'ltr';

    document.getElementById('themeSelect').value = theme;
    document.body.className = theme;

    const texts = {
      fa: {
        title: "ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø­Ø³Ø§Ø¨",
        theme: "ØªÙ… Ø±Ø§Ø¨Ø· Ú©Ø§Ø±Ø¨Ø±ÛŒ",
        lang: "Ø²Ø¨Ø§Ù†",
        changePass: "ØªØºÛŒÛŒØ± Ø±Ù…Ø² Ø¹Ø¨ÙˆØ±",
        changeBtn: "ØªØºÛŒÛŒØ± Ø±Ù…Ø²",
        deleteBtn: "âŒ Ø­Ø°Ù Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ",
        back: "Ø¨Ø§Ø²Ú¯Ø´Øª Ø¨Ù‡ Ø®Ø§Ù†Ù‡"
      },
      en: {
        title: "Account Settings",
        theme: "Theme",
        lang: "Language",
        changePass: "Change Password",
        changeBtn: "Update Password",
        deleteBtn: "âŒ Delete Account",
        back: "Back to Home"
      },
      ar: {
        title: "Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø§Ù„Ø­Ø³Ø§Ø¨",
        theme: "Ø§Ù„Ø³Ù…Ø©",
        lang: "Ø§Ù„Ù„ØºØ©",
        changePass: "ØªØºÙŠÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±",
        changeBtn: "ØªØºÙŠÙŠØ±",
        deleteBtn: "âŒ Ø­Ø°Ù Ø§Ù„Ø­Ø³Ø§Ø¨",
        back: "Ø§Ù„Ø¹ÙˆØ¯Ø©"
      },
      ja: {
        title: "ã‚¢ã‚«ã‚¦ãƒ³ãƒˆè¨­å®š",
        theme: "ãƒ†ãƒ¼ãƒ",
        lang: "è¨€èª",
        changePass: "ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ã®å¤‰æ›´",
        changeBtn: "æ›´æ–°",
        deleteBtn: "âŒ ã‚¢ã‚«ã‚¦ãƒ³ãƒˆå‰Šé™¤",
        back: "ãƒ›ãƒ¼ãƒ ã«æˆ»ã‚‹"
      }
    };

    const t = texts[lang];
    document.getElementById('title').textContent = t.title;
    document.getElementById('themeLabel').textContent = t.theme;
    document.getElementById('langLabel').textContent = t.lang;
    document.getElementById('changePassLabel').textContent = t.changePass;
    document.getElementById('changeBtn').textContent = t.changeBtn;
    document.getElementById('deleteBtn').textContent = t.deleteBtn;
    document.getElementById('backLink').textContent = t.back;

    function setTheme(theme) {
      localStorage.setItem('mychat_theme', theme);
      document.body.className = theme;
    }

    function setLanguage(code) {
      localStorage.setItem('mychat_language', code);
      location.reload();
    }

    function changePassword() {
      const oldPass = document.getElementById('oldPass').value;
      const newPass = document.getElementById('newPass').value;
      const confirm = document.getElementById('confirmPass').value;

      if (!oldPass || !newPass || !confirm) {
        alert('Ù„Ø·ÙØ§Ù‹ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯.');
        return;
      }

      if (newPass !== confirm) {
        alert('Ø±Ù…Ø² Ø¬Ø¯ÛŒØ¯ Ø¨Ø§ ØªÚ©Ø±Ø§Ø± Ø¢Ù† Ù…Ø·Ø§Ø¨Ù‚Øª Ù†Ø¯Ø§Ø±Ø¯.');
        return;
      }

      // Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù…ÛŒâ€ŒØªÙˆØ§Ù† Ø¨Ù‡ API Ø±Ù…Ø² Ù‚Ø¨Ù„ÛŒ Ø±Ø§ Ø§Ø±Ø³Ø§Ù„ Ú©Ø±Ø¯.
      alert('Ø±Ù…Ø² Ø¹Ø¨ÙˆØ± Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª ØªØºÛŒÛŒØ± ÛŒØ§ÙØª.');
    }

    function deleteAccount() {
      if (confirm('Ø¢ÛŒØ§ Ù…Ø·Ù…Ø¦Ù† Ù‡Ø³ØªÛŒØ¯ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø­Ø³Ø§Ø¨ Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒØ¯ØŸ Ø§ÛŒÙ† Ø¹Ù…Ù„ÛŒØ§Øª ØºÛŒØ±Ù‚Ø§Ø¨Ù„ Ø¨Ø§Ø²Ú¯Ø´Øª Ø§Ø³Øª.')) {
        // Ø¯Ø± Ù†Ø³Ø®Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§ÛŒØ¯ Ø¨Ù‡ Ø³Ø±ÙˆØ± Ø§Ø·Ù„Ø§Ø¹ Ø¯Ù‡ÛŒØ¯.
        alert('Ø­Ø³Ø§Ø¨ Ú©Ø§Ø±Ø¨Ø±ÛŒ Ø­Ø°Ù Ø´Ø¯.');
        localStorage.clear();
        window.location.href = 'index.html';
      }
    }
  </script>
</body>
</html>
